add_namespace = ukr

# Khrushchev_goes_to_Moscow
country_event = {
	id = ukr.1
	title = ukr.1.t
	desc = ukr.1.d
	picture = GFX_report_event_soviet_purge_trial

	is_triggered_only = yes

	option = {
		name = ukr.1.a

		add_political_power = -30

		#UKR_nikita_khrushchev = { set_nationality = SOV }
		retire_character = UKR_nikita_khrushchev
		add_country_leader_role = {
			character = "SOV_leonid_brezhnev"
			country_leader = {
				ideology = marxism
				traits = {  }
				expire = "1965.3.1.1"
			}
			promote_leader = yes 
		}
	}
}

country_event = {
	id = ukr.2
	title = ukr.2.t
	desc = ukr.2.d
	picture = GFX_report_event_generic_riot
	
	fire_only_once = yes

	trigger = {
		tag = UKR
		SOV = { has_war_with = RUS }
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	option = {
		name = ukr.2.a

		add_political_power = -30

		white_peace = RUS
		
		white_peace = MON

		remove_ideas = UKR_caviar_idea

		remove_ideas = UKR_Loyalty_test_idea

		SOV = {

			country_event = { id = more_soviet.13 days = 1 } 

			transfer_state = 228
			transfer_state = 221
			transfer_state = 227
		}

		set_party_name = {
			ideology = democratic
			long_name = UKR_democratic_rebel_party_long
			name = UKR_democratic_rebel_party
		}

		set_party_name = {
			ideology = neutrality
			long_name = UKR_neutrality_rebel_party_long
			name = UKR_neutrality_rebel_party
		}

		set_party_name = {
			ideology = fascism
			long_name = UKR_fascism_rebel_party_long
			name = UKR_fascism_rebel_party
		}

		set_party_name = {
			ideology = communism
			long_name = UKR_communism_rebel_party_long
			name = UKR_communism_rebel_party
		}

		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
		}

		add_popularity = { 
			ideology = communism 
			popularity = -0.50 
		}

		drop_cosmetic_tag = yes

		if = {
			limit = {
				is_ai = yes
				SOV = { is_ai = no }	
			}

			add_political_power = 150

			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 7500
				producer = GER
			}

			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 500
				producer = GER
			}

			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 500
				producer = GER
			}

			add_equipment_to_stockpile = {
				type = fighter_equipment
				amount = 60
				producer = SOV
			}

			add_equipment_to_stockpile = {
				type = CAS_equipment
				amount = 30
				producer = SOV
			}

			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = 20
				producer = SOV
			}

		}

		hidden_effect = {
			load_oob = "UKR_rebel_1936"
			load_focus_tree = { 
					tree = ukr_focus_2
			}
			country_event = { id = ukr.10  days = 30 }
		}

	}
}

country_event = {
	id = ukr.3
	title = ukr.3.t
	desc = ukr.3.d
	picture = GFX_report_event_generic_scandinavia
	
	fire_only_once = yes

	trigger = {
		tag = UKR
		date > 1937.4.20
		has_war = no
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	option = {
		name = ukr.3.a

		add_political_power = 150

		swap_ideas = {
			remove_idea = UKR_Developed_agriculture_idea
			add_idea = UKR_Promote_industrialization_idea
		}

		if = {
			limit = {
				has_idea = UKR_independent_Army_idea
			}
			swap_ideas = {
				remove_idea = UKR_independent_Army_idea
				add_idea = UKR_independent_Army_1_idea
			}
		}

		hidden_effect = {
			load_focus_tree = { 
					tree = generic_focus
			}
		}

		if = {
			limit = { has_country_flag = UKR_konovalets_alive }
			country_event = { id = ukr.12 days = 35 } 
		}

	}
}

country_event = {
	id = ukr.4
	title = ukr.4.t
	desc = ukr.4.d
	picture = GFX_report_event_generic_scandinavia
	
	fire_only_once = yes

	trigger = {
		tag = UKR
		date > 1937.4.20
		is_subject_of = SOV
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = ukr.4.a

		SOV = {
			annex_country = { target = UKR }
		}

	}
}

country_event = {
	id = ukr.5
	title = ukr.5.t
	desc = ukr.5.d
	picture = GFX_report_event_generic_riot
	
	fire_only_once = yes

	trigger = {
		tag = UKR
		date > 1937.2.20
		UKR = { is_subject = no }
		has_war = yes
	}
	
	mean_time_to_happen = {
		days = 7
	}
	
	option = {
		name = ukr.5.a

		ai_chance = {
			base = 40
		}

		add_political_power = 50

		add_popularity = { 
			ideology = neutrality
			popularity = 0.15 
		}

		add_popularity = { 
			ideology = democratic
			popularity = 0.10 
		}

	}

	option = {
		name = ukr.5.b

		ai_chance = {
			base = 30
		}

		add_political_power = -50

		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}

		add_popularity = { 
			ideology = fascism 
			popularity = 0.30 
		}

		if = {
			limit = {
				has_idea = UKR_independent_Army_idea
			}
			swap_ideas = {
				remove_idea = UKR_independent_Army_idea
				add_idea = UKR_National_Army_idea
			}
		}

		remove_unit_leader = 5004
		remove_unit_leader = 5005

	}

	option = {
		name = ukr.5.c

		trigger = { 
			UKR = { is_subject = no }
			NOT = { UKR = { has_war_with = RUS } }
			RUS = { 
				RUS_anastasia_i = {
					is_country_leader = yes
				}
			}
		}

		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				RUS = { has_idea = RUS_political_uncertainty }
			}
			modifier = {
				factor = 0
				RUS = { 
					RUS_anastasia_i = {
						is_country_leader = no
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { RUS = { has_government = neutrality } }
			}
		}

		add_political_power = -100

		set_party_name = {
			ideology = neutrality
			long_name = UKR_neutrality_hetman_party_long
			name = UKR_neutrality_hetman_party
		}


		add_country_leader_role = {
			character = "UKR_pavlo_skoropadskyi"
			country_leader = {
				ideology = stratocracy
				traits = {  }
				expire = "1965.3.1.1"
			}
			promote_leader = yes 
		}


		add_popularity = { 
			ideology = democratic
			popularity = -0.10 
		}

		add_popularity = { 
			ideology = fascism
			popularity = -0.10 
		}

		if = {
			limit = {
				has_idea = UKR_independent_Army_idea
			}
			swap_ideas = {
				remove_idea = UKR_independent_Army_idea
				add_idea = UKR_Hetman_Army_idea
			}
		}

		remove_unit_leader = 5006
		remove_unit_leader = 5005

		RUS = {
			country_event = { id = ukr.6 days = 7 } 
		}

	}

}

country_event = {
	id = ukr.6
	title = ukr.6.t
	desc = ukr.6.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = ukr.6.a

		ai_chance = {
			base = 100
		}

		add_political_power = 50

		ROOT = { puppet = FROM }

	}

	option = {
		name = ukr.6.b

		ai_chance = {
			base = 0
		}

		add_political_power = -150


	}

}

country_event = {
	id = ukr.7
	title = ukr.7.t
	desc = ukr.7.d
	picture = GFX_report_event_vienna_award_negotiations
	
	fire_only_once = yes

	trigger = {
		tag = RUS
		UKR = { is_subject_of = RUS }
		RUS = { 
			RUS_anastasia_i = {
				is_country_leader = yes
			}
		}
		UKR = { 
			UKR_pavlo_skoropadskyi = {
				is_country_leader = yes
			} 
		}
		has_war = no
	}
	
	mean_time_to_happen = {
		days = 15
	}
	
	option = {
		name = ukr.7.a

		ai_chance = {
			base = 100
		}

		add_political_power = -50

		UKR = {
			every_unit_leader = {
				set_nationality = RUS
			}
		}

		RUS = {
			annex_country = { target = UKR }
		}

	}

}

country_event = {
	id = ukr.8
	title = ukr.8.t
	desc = ukr.8.d
	picture = GFX_report_event_vienna_award_negotiations
	
	fire_only_once = yes

	trigger = {
		tag = UKR
		GER = { is_faction_leader = yes }
		is_subject = no
		is_in_faction = no
		has_war = no
		NOT = { has_idea = SOV_Passion_for_fighting }
		has_idea = UKR_German_consultant_idea
		or = {
			is_neighbor_of = GER
			any_neighbor_country = {
				is_subject_of = GER
			}
			any_allied_country = {
				is_neighbor_of = GER
			}
			any_allied_country = {
				any_neighbor_country = {
					is_subject_of = GER
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 15
	}
	
	option = {
		name = ukr.8.a

		GER = {
			country_event = { id = ukr.9 days = 1 }
		}

	}

	option = {
		name = ukr.8.b

		add_political_power = -50

	}

}

country_event = {  ### 
	id = ukr.9
	title = ukr.9.t
	desc = ukr.9.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = ukr.9.a

		ai_chance = {
			base = 100
		}

		add_political_power = 50

		GER = {
			add_to_faction = UKR
		}

		every_state = {
			limit = {
				is_core_of = UKR
				NOT = { is_core_of = HUN }
				NOT = { is_core_of = ROM }
				OR = {
					is_fully_controlled_by = GER
					any_other_country = {
						NOT = { tag = UKR }
						is_ai = yes
						has_full_control_of_state = PREV
						is_in_faction_with = GER
					}
				}
				
			}
			UKR = { transfer_state = PREV }
		}

	}

	option = {
		name = ukr.9.b

		ai_chance = {
			base = 0
		}
	}
}


country_event = {   #### Ukrainian Rebellion introduction
	id = ukr.10
	title = ukr.10.t
	desc = ukr.10.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = ukr.10.a

		ai_chance = {
			base = 100
		}

		add_political_power = 20
	}

}


country_event = {   #### Assassinate Konovalets
	id = ukr.11
	title = ukr.11.t
	desc = ukr.11.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {  ### Konovalets bombed
		name = ukr.11.a

		ai_chance = {
			base = 40
		}
		remove_country_leader_role = {
			character = UKR_yevhen_konovalets
			ideology = fascism_ideology
		}

		add_country_leader_role = {
			Character = UKR_Stepan_Bandera
			Promote_leader = yes
			Country_leader = {
			ideology = nazism
				expire = “1965.1.1.1”
				traits = {
					
				}
			}
		}

		retire_character = UKR_yevhen_konovalets
	}

	option = {  ### Konovalets alive
		name = ukr.11.b

		ai_chance = {
			base = 60
		}

		add_political_power = -25
		hidden_effect = {
			set_country_flag = UKR_konovalets_alive
		}
	}
	
}

country_event = {  ### After War 
	id = ukr.12
	title = ukr.12.t
	desc = ukr.12.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {  ### Maintain the stratocracy
		name = ukr.12.a

		ai_chance = {
			base = 40
		}
		
		country_event = { id = ukr.15 days = 50 }
		######
	}

	option = {  ### Open an Election 
		name = ukr.12.b

		ai_chance = {
			base = 60
		}

		country_event = { id = ukr.13 days = 60 }
	}
}


country_event = {  ### After War Election 
	id = ukr.13
	title = ukr.13.t
	desc = ukr.13.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {  ### SDPists
		name = ukr.13.a

		ai_chance = {
			base = 40
		}

		set_politics = {
			ruling_party = democratic
			elections_allowed = no
		}

		add_popularity = {
			ideology = democratic
			popularity = 0.25
		}
	}

	option = {  ### OUN
		name = ukr.13.b
		ai_chance = {
			base = 40
		}

		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}

		add_popularity = {
			ideology = fascism
			popularity = 0.25
		}
	}
}

country_event = {  ### 1941 election
	id = ukr.14
	title = ukr.14.t
	desc = ukr.14.d
	picture = GFX_report_event_vienna_award_negotiations
	
	fire_only_once = yes
	trigger = {
		tag = UKR
		is_subject = no
		has_government = democratic
		exists = yes
		date > 1941.5.1
	}

	mean_time_to_happen = {
		days = 10
	}
	
	option = {  ### SDPists
		name = ukr.14.a

		ai_chance = {
			base = 40
		}

		add_stability = 0.05

		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}

	option = {  ### SN
		name = ukr.14.b
		ai_chance = {
			base = 60
		}

		#### 换泽连斯基爷爷
	}

	#option = {  ### Reunion
	#	name = ukr.14.c
	#	ai_chance = {
	#		base = 40
	#	}
	#
	#		#### Reunion
	#}
}


country_event = {  ### Directorate
	id = ukr.15
	title = ukr.15.t
	desc = ukr.15.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 10
	}
	
	option = {  ### 
		name = ukr.15.a

		ai_chance = {
			base = 40
		}

		if = {
			limit = { NOt = { has_government = neutrality } }
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
	}
}


country_event = {  ### Intensive...
	id = ukr.16
	title = ukr.16.t
	desc = ukr.16.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {  ### 
		name = ukr.16.a

		add_stability = -0.15

		add_popularity = {
			ideology = democratic
			popularity = 0.15
		}

		add_popularity = {
			ideology = fascism
			popularity = 0.15
		}

		set_party_name = {
			### TODO: Localisation
			ideology = communism
			name = UKR_black_army
			long_name = UKR_black_army_long
		}
	}
}


country_event = {  ### Bandera's coup against Petlura
	id = ukr.17
	title = ukr.17.t
	desc = ukr.17.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {  ### Bandera has succeeded
		name = ukr.17.a

		add_stability = -0.10
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		retire_character = UKR_symon_petlura
		add_popularity = {
			ideology = fascism
			popularity = 0.20
		}
	}

	option = {  ### Bandera's coup failed,  Melnyk turned to cooperation
		name = ukr.17.b
		add_stability = 0.10
		if = {
			limit = { NOT = { has_government = neutrality } }
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}

		add_popularity = {
			ideology = fascism
			popularity = -0.15
		}

		remove_country_leader_role = {
			character = UKR_Stepan_Bandera
			ideology = nazism
		}

		add_country_leader_role = {
			Character = UKR_andriy_melnyk
			Promote_leader = yes
			Country_leader = {
			ideology = fascism_ideology
				expire = “1965.1.1.1”
				traits = {
				}
			}
		}

		retire_character = UKR_Stepan_Bandera
	}

	option = {  ### The government has been brought into Chaos...
		name = ukr.17.c
		add_stability = -0.15

		add_popularity = {
			ideology = communism
			popularity = 0.15
		}

		#### TODO: Set Party Name
		#### 

		hidden_effect = {
			country_event = { id = ukr.18 days = 5 }
		}
	}
}


country_event = {  ### Anarchist Triumph
	id = ukr.18
	title = ukr.18.t
	desc = ukr.18.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {  ### 
		name = ukr.18.a
		add_political_power = 100

		add_popularity = {
			ideology = communism
			popularity = 0.10
		}

		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}

		add_country_leader_role = {
			Character = UKR_Nestor_Makhno
			Promote_leader = yes
			Country_leader = {
			ideology = libertarian_socialist
				expire = “1965.1.1.1”
				traits = {
					
				}
			}
		}

		set_cosmetic_tag = UKR_anarchist
		load_focus_tree = ukr_focus_makhno

		hidden_effect = {
			country_event = { id = ukr_reunion.1 days = 10 }
		}
	}
}