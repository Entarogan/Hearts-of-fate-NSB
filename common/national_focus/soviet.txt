#!gfx:interface\SOV_focus.gfx
#!gfx:interface\goalsFate_sov.gfx
focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	
	default = no

    continuous_focus_position = { x = 20 y = 2400 }

	focus = {
		id = SOV_Great_Purge_will_fail
		icon = GFX_focus_SOV_Great_Purge_will_fail
		x = 7
		y = 0
		cost = 20
		ai_will_do = {
			factor = 100
		}

		select_effect = {
			country_event = { id = more_soviet.1 days = 1 }

			UKR = {
				country_event = ukr.1 
			}

			set_country_flag = SOV_purge_started
		}

		bypass = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}

		available_if_capitulated = yes

		completion_reward = {

		custom_effect_tooltip = SOV_Great_Purge_will_fail_tt

		add_stability = -0.10

		add_war_support = -0.10

		remove_ideas = trotskyite_plot
		add_ideas = trotskyite_plot_purged

		add_timed_idea = {
			idea = officers_purged
			days = 1460
		}

		hidden_effect = {
			country_event = { id = soviet.37 days = 146 }				
		}

			hidden_effect = {
				country_event = more_soviet.5 
			}

		hidden_effect = {
			news_event = { hours = 6 id = news.219 }
		}

		}
	}

	focus = {
		id = SOV_bloody_dwarf_is_in_power
		icon = GFX_goal_premier_Yezhov
		prerequisite = { focus = SOV_Great_Purge_will_fail }
		x = -4
		y = 1
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			always = no
		}
		bypass = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = SOV_bloody_dwarf_is_in_power_tt
			
		}
	}

	focus = {
		id = SOV_Continue_to_clean
		icon = GFX_focus_SOV_Continue_to_clean
		prerequisite = { focus = SOV_bloody_dwarf_is_in_power }
		x = 0
		y = 1
		relative_position_id = SOV_bloody_dwarf_is_in_power
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		add_ideas = SOV_Big_cleaning_idea_1
		
		}
	}

	focus = {
		id = SOV_Preemptive_force
		icon = GFX_focus_SOV_Preemptive_force
		prerequisite = { focus = SOV_Continue_to_clean }
		x = -1
		y = 1
		relative_position_id = SOV_Continue_to_clean
		cost = 2
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_war_support = -0.15

		  set_country_flag = purged_stalinist

      custom_effect_tooltip = SOV_Preemptive_force_tt

      remove_ideas = ivan_konev
      remove_unit_leader = 408
      remove_ideas = arseniy_golovko
      remove_unit_leader = 409
      remove_ideas = sergey_gorshkov
      remove_unit_leader = 411
      remove_ideas = pavel_zhigarev
      remove_ideas = stepan_krasovsky
      remove_ideas = sergei_rudenko

      if = {
        limit = {
            has_idea = SOV_Big_cleaning_idea_2
          }
        swap_ideas = {
            remove_idea = SOV_Big_cleaning_idea_2
            add_idea = SOV_Big_cleaning_idea_3
          }
        }	

      if = {
        limit = {
            has_idea = SOV_Big_cleaning_idea_1
          }
        swap_ideas = {
            remove_idea = SOV_Big_cleaning_idea_1
            add_idea = SOV_Big_cleaning_idea_2
          }
        }
	
	
		}
	}

	focus = {
		id = SOV_Stationed_in_the_government
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_Continue_to_clean }
		x = 1
		y = 1
		relative_position_id = SOV_Continue_to_clean
		cost = 2
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_stability = -0.10

      custom_effect_tooltip = SOV_Stationed_in_the_government_tt


      if = {
        limit = {
            has_idea = SOV_Big_cleaning_idea_2
          }
        swap_ideas = {
            remove_idea = SOV_Big_cleaning_idea_2
            add_idea = SOV_Big_cleaning_idea_3
          }
        }	

      if = {
        limit = {
            has_idea = SOV_Big_cleaning_idea_1
          }
        swap_ideas = {
            remove_idea = SOV_Big_cleaning_idea_1
            add_idea = SOV_Big_cleaning_idea_2
          }
        }
		
		
		}
	}

	focus = {
		id = SOV_Public_execution
		icon = GFX_reign_of_terror
		prerequisite = { focus = SOV_Preemptive_force }

		prerequisite = { focus = SOV_Stationed_in_the_government }
		x = 1
		y = 1
		relative_position_id = SOV_Preemptive_force
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_stability = 0.15

      add_country_leader_trait = Blood_Dwarf

      remove_ideas = SOV_Big_cleaning_idea_3

			add_timed_idea = {
				idea = SOV_Big_cleaning_idea_4
				days = 365
			}		
		
		}
	}

	focus = {
		id = SOV_expend_NKVD
		icon = GFX_focus_SOV_expend_NKVD
		prerequisite = { focus = SOV_Public_execution }
		x = 0
		y = 1
		relative_position_id = SOV_Public_execution
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 50

      if = {
        limit = {
          has_idea = nkvd
        }
        swap_ideas = {
          remove_idea = nkvd
          add_idea = nkvd_2
          }
        }

			hidden_effect = {
				country_event = { id = more_soviet.18 days = 1 }
			}		
		
		}
	}

	focus = {
		id = SOV_Sweep_the_underground_church
		icon = GFX_goal_MAF_Kulturkampf
		prerequisite = { focus = SOV_expend_NKVD }
		x = -1
		y = 1
		relative_position_id = SOV_expend_NKVD
		cost = 3
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_manpower = -3627

			add_stability = 0.05

			if = {
				limit = {
					has_idea = nkvd_2
					has_completed_focus = SOV_No_population_movement
				}
				swap_ideas = {
					remove_idea = nkvd_2
					add_idea = nkvd_3
				}
			}
		
		}
	}

	focus = {
		id = SOV_No_population_movement
		icon = GFX_goal_SOV_End_Freedom_of_Movement
		prerequisite = { focus = SOV_expend_NKVD }
		x = 1
		y = 1
		relative_position_id = SOV_expend_NKVD
		cost = 3
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_manpower = -2748

			add_stability = 0.05

			if = {
				limit = {
					has_idea = nkvd_2
					has_completed_focus = SOV_Sweep_the_underground_church
				}
				swap_ideas = {
					remove_idea = nkvd_2
					add_idea = nkvd_3
				}
			}
		
		}
	}

	focus = {
		id = SOV_Continue_to_enforce_collectivization
		icon = GFX_focus_eng_move_to_secure_the_dominions
		prerequisite = { focus = SOV_Sweep_the_underground_church }

		prerequisite = { focus = SOV_No_population_movement }
		x = 1
		y = 1
		relative_position_id = SOV_Sweep_the_underground_church
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_agricultural_collectivization_1

      unlock_decision_tooltip = SOV_Set_up_checkpoints

      unlock_decision_tooltip = SOV_creating_the_25_thousand

		}
	}

	focus = {
		id = SOV_Reform_the_education_system
		icon = GFX_focus_SOV_Reform_the_education_system
		prerequisite = { focus = SOV_Continue_to_enforce_collectivization }

		x = -1
		y = 1
		relative_position_id = SOV_Continue_to_enforce_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_New_curriculum_standard
		
		}
	}

	focus = {
		id = SOV_New_worker_culture
		icon = GFX_focus_SOV_New_worker_culture
		prerequisite = { focus = SOV_Continue_to_enforce_collectivization }

		x = 1
		y = 1
		relative_position_id = SOV_Continue_to_enforce_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_New_worker_culture_idea
		
		}
	}

	focus = {
		id = SOV_Hang_up_portrait
		icon = GFX_goal_SOV_Hang_up_Portraits
		prerequisite = { focus = SOV_Reform_the_education_system }

		prerequisite = { focus = SOV_New_worker_culture }
		x = 1
		y = 1
		relative_position_id = SOV_Reform_the_education_system
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikolay_yezhov
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 200

			remove_country_leader_trait = Blood_Dwarf
			add_country_leader_trait = Blood_Dwarf_1
		
		}
	}

	focus = {
		id = SOV_Tukhachevsky_coup
		icon = GFX_focus_focus_fra_fascist_threat
		prerequisite = { focus = SOV_Great_Purge_will_fail }
		x = 4
		y = 1
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      always = no
    }
    bypass = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }

		available_if_capitulated = yes

		completion_reward = {
      custom_effect_tooltip = SOV_Tukhachevsky_coup_tt
		}
	}

	focus = {
		id = SOV_End_the_cleaning
		icon = GFX_focus_spr_crush_the_revolution
		prerequisite = { focus = SOV_Tukhachevsky_coup }
		x = 0
		y = 1
		relative_position_id = SOV_Tukhachevsky_coup
		cost = 3
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_political_power = 100

      add_stability = 0.10

      add_war_support = 0.05

      custom_effect_tooltip = SOV_End_the_cleaning_tt

      clr_country_flag = arrest_kalinin

      clr_country_flag = arrest_khrushchev

      clr_country_flag = arrest_zinovyev

      clr_country_flag = arrest_radek

      clr_country_flag = arrest_kamenev

      clr_country_flag = arrest_bukharin

		}
	}

	focus = {
		id = SOV_NKVD_fate
		icon = GFX_focus_SOV_NKVD_fate
		prerequisite = { focus = SOV_End_the_cleaning }
		x = -1
		y = 1
		relative_position_id = SOV_End_the_cleaning
		cost = 3
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.8

		}
	}

	focus = {
		id = SOV_The_fate_of_the_Stalinists
		icon = GFX_focus_SOV_The_fate_of_the_Stalinists
		prerequisite = { focus = SOV_End_the_cleaning }
		x = 1
		y = 1
		relative_position_id = SOV_End_the_cleaning
		cost = 3
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.9

		}
	}

	focus = {
		id = SOV_Marshal_decision
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = SOV_NKVD_fate }

		prerequisite = { focus = SOV_The_fate_of_the_Stalinists }
		x = 1
		y = 1
		relative_position_id = SOV_NKVD_fate
		cost = 1
		ai_will_do = {
			factor = 50
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.10

		}
	}

	focus = {
		id = SOV_Humane_communism
		icon = GFX_goal_premier_bukharin
		prerequisite = { focus = SOV_Marshal_decision }

		x = 4
		y = 1
		relative_position_id = SOV_Marshal_decision
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
		has_country_flag = Bukharin_becomes_general_secretary_flag
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = SOV_Humane_communism_idea_1
			add_country_leader_role = {
				character = "SOV_nikola_bukharin"
				country_leader = {
					desc = "POLITICS_MIKHAIL_TUKHACHEVSKY_DESC"
					ideology = leninism
					traits = { Advocate_of_New_Economic_Policy }
					expire = "1965.1.1"
				}
				promote_leader = yes 
			}
			hidden_effect = {
				news_event = { id = more_News.44  hours = 3 }
			}

		}
	}

	focus = {
		id = SOV_Return_power_to_the_union
		icon = GFX_goal_tblra_union_agreement
		prerequisite = { focus = SOV_Humane_communism }

		x = -1
		y = 1
		relative_position_id = SOV_Humane_communism
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_nikola_bukharin
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_stability = 0.05

			add_ideas = SOV_Return_power_to_the_union_idea

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_Alexander_Shliapnikov
			show_ideas_tooltip = SOV_Alexandra_Kollontai
		}
	}

	focus = {
		id = SOV_Ensure_the_worker_peasant_alliance
		icon = GFX_goal_RAJ_agricultural_aid
		prerequisite = { focus = SOV_Humane_communism }

		x = 1
		y = 1
		relative_position_id = SOV_Humane_communism
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 100

			swap_ideas = {
        remove_idea = SOV_Humane_communism_idea_1
        add_idea = SOV_Humane_communism_idea_2
      }

		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = SOV_Alexei_Rykov

		}
	}

	focus = {
		id = SOV_Voluntary_collectivization
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = SOV_Return_power_to_the_union }

		prerequisite = { focus = SOV_Ensure_the_worker_peasant_alliance }
		x = 1
		y = 1
		relative_position_id = SOV_Return_power_to_the_union
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Voluntary_collectivization_idea

		}
	}

	focus = {
		id = SOV_Guarantee_freedom_of_the_press
		icon = GFX_focus_SOV_Guarantee_freedom_of_the_press
		prerequisite = { focus = SOV_Voluntary_collectivization }

		x = -1
		y = 1
		relative_position_id = SOV_Voluntary_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Guarantee_freedom_of_the_press

		}
	}

	focus = {
		id = SOV_Industrialization_process
		icon = GFX_goal_factory_complex
		prerequisite = { focus = SOV_Voluntary_collectivization }

		x = 1
		y = 1
		relative_position_id = SOV_Voluntary_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Industrialization_process
				bonus = 1.0
				uses = 1
				category = industry
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Democratic_alliance
		icon = GFX_SOV_Democratic_alliance
		prerequisite = { focus = SOV_Guarantee_freedom_of_the_press }

		prerequisite = { focus = SOV_Industrialization_process }
		x = 1
		y = 1
		relative_position_id = SOV_Guarantee_freedom_of_the_press
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_nikola_bukharin
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			swap_ideas = {
				remove_idea = SOV_Humane_communism_idea_2
				add_idea = SOV_Humane_communism_idea_3
			}
			country_event = { id = more_soviet.16 days = 3 }
		}
	}

	focus = {
		id = SOV_Continue_military_control
		icon = GFX_goal_premier_Tukhachevsky
		prerequisite = { focus = SOV_Marshal_decision }

		x = 0
		y = 1
		relative_position_id = SOV_Marshal_decision
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_country_flag = Tukhachevsky_consolidated_his_position_flag
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Military_dictatorship_idea_1

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_Nikolay_Krestinsky

			hidden_effect = {
				news_event = { id = more_News.43  hours = 3 }
			}
		}
	}

	focus = {
		id = SOV_Soldier_worship
		icon = GFX_goal_army_guy_2
		prerequisite = { focus = SOV_Continue_military_control }

		x = -1
		y = 1
		relative_position_id = SOV_Continue_military_control
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

			swap_ideas = {
        remove_idea = SOV_red_army_idea
        add_idea = SOV_red_army_idea_1
      }

			swap_ideas = {
        remove_idea = SOV_Military_dictatorship_idea_1
        add_idea = SOV_Military_dictatorship_idea_2
      }

	  		custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_nonna_political

		}
	}

	focus = {
		id = SOV_Start_war_mobilization
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SOV_Continue_military_control }

		x = 1
		y = 1
		relative_position_id = SOV_Continue_military_control
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		add_ideas = SOV_Additional_conscription

		}
	}

	focus = {
		id = SOV_Military_collectivization
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_Soldier_worship }

		prerequisite = { focus = SOV_Start_war_mobilization }
		x = 1
		y = 1
		relative_position_id = SOV_Soldier_worship
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			swap_ideas = {
				remove_idea = SOV_Additional_conscription
				add_idea = SOV_Military_collectivization_idea
			}

			unlock_decision_tooltip = SOV_War_Mobilization_dec

			SOV_increase_industrialization = yes

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = SOV_sovetskaya_rossiya_political

		}
	}

	focus = {
		id = SOV_Military_education_is_supreme
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = SOV_Military_collectivization }

		x = -1
		y = 1
		relative_position_id = SOV_Military_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      swap_ideas = {
        remove_idea = SOV_red_army_idea_1
        add_idea = SOV_red_army_idea_2
      }

      add_ideas = SOV_Military_education_is_supreme_idea

		}
	}

	focus = {
		id = SOV_Regulated_union
		icon = GFX_focus_usa_voter_registration_act
		prerequisite = { focus = SOV_Military_collectivization }

		x = 1
		y = 1
		relative_position_id = SOV_Military_collectivization
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_mikhail_tukhachevsky
		}
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		add_ideas = SOV_Regulated_union_idea

		}
	}

	focus = {
		id = SOV_Red_Napoleon
		icon = GFX_SOV_Red_Napoleon
		prerequisite = { focus = SOV_Military_education_is_supreme }

		prerequisite = { focus = SOV_Regulated_union }
		x = 1
		y = 1
		relative_position_id = SOV_Military_education_is_supreme
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_mikhail_tukhachevsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_country_leader_trait = red_emperor

		}
	}

	focus = {
		id = SOV_Return_of_exile
		icon = GFX_goal_premier_trotsky
		prerequisite = { focus = SOV_Marshal_decision }

		x = -4
		y = 1
		relative_position_id = SOV_Marshal_decision
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_country_flag = Trotsky_is_invited_back_flag
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Revolutionary_vanguard_idea_1

	  	add_country_leader_role = {
			character = "SOV_lev_trotsky"
			country_leader = {
				ideology = leninism
				traits = {  }
				expire = "1965.1.1"
			}
			promote_leader = yes 
		}

			hidden_effect = {
				news_event = { id = more_News.42  hours = 3 }
			}

		}
	}

	focus = {
		id = SOV_Militarization_of_labor
		icon = GFX_goal_conscription
		prerequisite = { focus = SOV_Return_of_exile }

		x = -1
		y = 1
		relative_position_id = SOV_Return_of_exile
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = -100

      add_ideas = SOV_Militarization_of_labor_idea

		}
	}

	focus = {
		id = SOV_Cut_bureaucracy
		icon = GFX_goal_VIN_New_Militarism
		prerequisite = { focus = SOV_Return_of_exile }

		x = 1
		y = 1
		relative_position_id = SOV_Return_of_exile
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 50

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

			swap_ideas = {
        remove_idea = SOV_red_army_idea
        add_idea = SOV_red_army_idea_1
      }

			swap_ideas = {
        remove_idea = SOV_Revolutionary_vanguard_idea_1
        add_idea = SOV_Revolutionary_vanguard_idea_2
      }

		}
	}

	focus = {
		id = SOV_Farmer_problem
		icon = GFX_goal_famine
		prerequisite = { focus = SOV_Militarization_of_labor }

		prerequisite = { focus = SOV_Cut_bureaucracy }
		x = 1
		y = 1
		relative_position_id = SOV_Militarization_of_labor
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  country_event = more_soviet.11

		}
	}

	focus = {
		id = SOV_Anti_nationalist_propaganda
		icon = GFX_focus_SOV_anti_nationalist_propaganda
		prerequisite = { focus = SOV_Farmer_problem }

		x = -1
		y = 1
		relative_position_id = SOV_Farmer_problem
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = 100

			swap_ideas = {
        remove_idea = SOV_Revolutionary_vanguard_idea_2
        add_idea = SOV_Revolutionary_vanguard_idea_3
      }

		}
	}

	focus = {
		id = SOV_Rapid_industrialization
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_Farmer_problem }

		x = 1
		y = 1
		relative_position_id = SOV_Farmer_problem
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = -100

      add_stability = -0.10

      SOV_increase_industrialization = yes

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_For_the_world_revolution
		icon = GFX_SOV_For_the_world_revolution
		prerequisite = { focus = SOV_Anti_nationalist_propaganda }

		prerequisite = { focus = SOV_Rapid_industrialization }
		x = 1
		y = 1
		relative_position_id = SOV_Anti_nationalist_propaganda
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}
		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			add_political_power = 150

			add_country_leader_trait = Forever_revolution

			swap_ideas = {
				remove_idea = SOV_Revolutionary_vanguard_idea_3
				add_idea = SOV_Revolutionary_vanguard_idea_4
			}

		}
	}





	focus = {
		id = SOV_Reorganizing_the_Red_Army
		icon = GFX_goal_generic_military_sphere

		x = 25
		y = 0
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 300
		}

    available = {
      or = {
        has_completed_focus = SOV_Hang_up_portrait
        has_completed_focus = SOV_Democratic_alliance
        has_completed_focus = SOV_Red_Napoleon
        has_completed_focus = SOV_For_the_world_revolution
      }
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			army_experience = 30

			add_doctrine_cost_reduction = {
				name = SOV_Reorganizing_the_Red_Army
				cost_reduction = 0.75
				uses = 1
				category = cat_mass_assault
			} 

		}
	}

	focus = {
		id = SOV_Strengthen_discipline
		icon = GFX_goal_reform_socialist_army

		mutually_exclusive = {
			focus = SOV_Decentralization
		}

		prerequisite = { focus = SOV_Reorganizing_the_Red_Army }

		x = -3
		y = 1
		relative_position_id = SOV_Reorganizing_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_red_army_idea
        }
        swap_ideas = {
          remove_idea = SOV_red_army_idea
          add_idea = SOV_Strengthen_discipline_idea
        }
      }

      if = {
        limit = {
          has_idea = SOV_red_army_idea_1
        }
        swap_ideas = {
          remove_idea = SOV_red_army_idea_1
          add_idea = SOV_Strengthen_discipline_idea_1
        }
      }

      if = {
        limit = {
          has_idea = SOV_red_army_idea_2
        }
        swap_ideas = {
          remove_idea = SOV_red_army_idea_2
          add_idea = SOV_Strengthen_discipline_idea_2
        }
      }

		}
	}

	focus = {
		id = SOV_Filling_staff
		icon = GFX_goal_officers

		prerequisite = { focus = SOV_Strengthen_discipline }

		x = -1
		y = 1
		relative_position_id = SOV_Strengthen_discipline
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_Strengthen_discipline_idea
        }
        swap_ideas = {
          remove_idea = SOV_Strengthen_discipline_idea
          add_idea = SOV_Filling_staff_idea
        }
      }

      if = {
        limit = {
          has_idea = SOV_Strengthen_discipline_idea_1
        }
        swap_ideas = {
          remove_idea = SOV_Strengthen_discipline_idea_1
          add_idea = SOV_Filling_staff_idea_1
        }
      }

      if = {
        limit = {
          has_idea = SOV_Strengthen_discipline_idea_2
        }
        swap_ideas = {
          remove_idea = SOV_Strengthen_discipline_idea_2
          add_idea = SOV_Filling_staff_idea_2
        }
      }

		}
	}

	focus = {
		id = SOV_NKVD_div
		icon = GFX_sov_nkvd_divisions

		mutually_exclusive = {
			focus = SOV_Supervising_team
		}

		prerequisite = { focus = SOV_Filling_staff }

		x = -1
		y = 1
		relative_position_id = SOV_Filling_staff
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      NOT = { has_country_flag = purged_NKVD }
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = nkvd
        }
        swap_ideas = {
          remove_idea = nkvd
          add_idea = nkvd_1
        }
      }

      if = {
        limit = {
          has_idea = nkvd_3
        }
        swap_ideas = {
          remove_idea = nkvd_3
          add_idea = nkvd_4
        }
      }

      if = {
        limit = {
          has_idea = SOV_Filling_staff_idea
        }
        swap_ideas = {
          remove_idea = SOV_Filling_staff_idea
          add_idea = SOV_Supervising_team_idea
        }
      }

      if = {
        limit = {
            has_idea = SOV_Filling_staff_idea_1
          }
        swap_ideas = {
          remove_idea = SOV_Filling_staff_idea_1
          add_idea = SOV_Supervising_team_idea_1
        }
      }

      if = {
        limit = {
          has_idea = SOV_Filling_staff_idea_2
        }
        swap_ideas = {
          remove_idea = SOV_Filling_staff_idea_2
          add_idea = SOV_Supervising_team_idea_2
        }
      }

		}
	}

	focus = {
		id = SOV_Supervising_team
		icon = GFX_focus_generic_military_mission

		mutually_exclusive = {
			focus = SOV_NKVD_div
		}

		prerequisite = { focus = SOV_Filling_staff }

		x = 1
		y = 1
		relative_position_id = SOV_Filling_staff
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      has_country_flag = purged_NKVD
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_Filling_staff_idea
        }
        swap_ideas = {
          remove_idea = SOV_Filling_staff_idea
          add_idea = SOV_Supervising_team_idea
        }
      }

      if = {
        limit = {
          has_idea = SOV_Filling_staff_idea_1
        }
        swap_ideas = {
          remove_idea = SOV_Filling_staff_idea_1
          add_idea = SOV_Supervising_team_idea_1
        }
      }

      if = {
        limit = {
          has_idea = SOV_Filling_staff_idea_2
        }
        swap_ideas = {
          remove_idea = SOV_Filling_staff_idea_2
          add_idea = SOV_Supervising_team_idea_2
        }
      }

		}
	}

	focus = {
		id = SOV_Concentrated_operations
		icon = GFX_goal_generic_join_faction

		prerequisite = { focus = SOV_Supervising_team focus = SOV_NKVD_div }

		x = 0
		y = 1
		relative_position_id = SOV_Supervising_team
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_Supervising_team_idea
        }
        swap_ideas = {
          remove_idea = SOV_Supervising_team_idea
          add_idea = SOV_Concentrated_operations_idea
        }
      }

      if = {
        limit = {
          has_idea = SOV_Supervising_team_idea_1
        }
        swap_ideas = {
          remove_idea = SOV_Supervising_team_idea_1
          add_idea = SOV_Concentrated_operations_idea_1
        }
      }

      if = {
        limit = {
          has_idea = SOV_Supervising_team_idea_2
        }
        swap_ideas = {
          remove_idea = SOV_Supervising_team_idea_2
          add_idea = SOV_Concentrated_operations_idea_2
        }
      }

		}
	}

	focus = {
		id = SOV_Wartime_communism
		icon = GFX_goal_Focus_Military_Mobilisation

		prerequisite = { focus = SOV_Strengthen_discipline }

		x = 1
		y = 1
		relative_position_id = SOV_Strengthen_discipline
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      SOV = { has_war_with = RUS }
    }
    bypass = {
      or = {
        RUS = { exists = no }
        RUS = { is_puppet = yes }
      }
    }

		available_if_capitulated = yes

		completion_reward = {
      add_ideas = SOV_Wartime_communism_idea
		}
	}

	focus = {
		id = SOV_general_mobilization
		icon = GFX_focus_generic_support_the_left_right

		prerequisite = { focus = SOV_Wartime_communism }

		x = 1
		y = 1
		relative_position_id = SOV_Wartime_communism
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      has_war = yes
      or = {
        casualties > 500000
        surrender_progress > 0.30
      }
    }
    bypass = {
		  has_idea = tot_economic_mobilisation
    }

		available_if_capitulated = yes

		completion_reward = {
		  add_ideas = tot_economic_mobilisation
		}
	}

	focus = {
		id = SOV_Decentralization
		icon = GFX_goal_integrate_the_militia

		mutually_exclusive = {
			focus = SOV_Strengthen_discipline
		}

		prerequisite = { focus = SOV_Reorganizing_the_Red_Army }

		x = 2
		y = 1
		relative_position_id = SOV_Reorganizing_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {
      has_completed_focus = SOV_Humane_communism
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_political_power = -50

      add_war_support = -0.05

      custom_effect_tooltip = SOV_Decentralization_tt

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_red_army_idea
        }
        swap_ideas = {
          remove_idea = SOV_red_army_idea
          add_idea = SOV_Decentralization_idea
        }
      }

		}
	}

	focus = {
		id = SOV_Simplify_weapons_production
		icon = GFX_focus_focus_fra_maquis

		prerequisite = { focus = SOV_Decentralization focus = SOV_Strengthen_discipline  }

		x = -2
		y = 1
		relative_position_id = SOV_Decentralization
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Simplify_weapons_production_idea

		}
	}

	focus = {
		id = SOV_New_structure_of_artillery
		icon = GFX_goal_generic_army_artillery2

		prerequisite = { focus = SOV_Simplify_weapons_production }

		x = 0
		y = 2
		relative_position_id = SOV_Simplify_weapons_production
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_New_structure_of_artillery_idea

			add_tech_bonus = {
				name = SOV_New_structure_of_artillery
				bonus = 1.0
				uses = 1
				category = artillery
			}

		}
	}

	focus = {
		id = SOV_Mission_command
		icon = GFX_goal_generic_axis_build_infantry

		prerequisite = { focus = SOV_Decentralization }

		x = 1
		y = 1
		relative_position_id = SOV_Decentralization
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_Decentralization_idea
        }
        swap_ideas = {
          remove_idea = SOV_Decentralization_idea
          add_idea = SOV_Mission_command_idea
        }
      }

		}
	}

	focus = {
		id = SOV_tachanka
		icon = GFX_goal_generic_cavalry

		prerequisite = { focus = SOV_Mission_command }

		x = -2
		y = 1
		relative_position_id = SOV_Mission_command
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_tachanka_idea

		}
	}

	focus = {
		id = SOV_Officer_initiative
		icon = GFX_focus_prc_infiltration

		prerequisite = { focus = SOV_Mission_command }

		x = 0
		y = 1
		relative_position_id = SOV_Mission_command
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_Mission_command_idea
        }
        swap_ideas = {
          remove_idea = SOV_Mission_command_idea
          add_idea = SOV_Officer_initiative_idea
        }
      }

		}
	}

	focus = {
		id = SOV_Practice_new_tactics
		icon = GFX_focus_generic_license_production

		prerequisite = { focus = SOV_Mission_command }

		x = 2
		y = 1
		relative_position_id = SOV_Mission_command
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      add_ideas = SOV_Practice_new_tactics_idea

		}
	}

	focus = {
		id = SOV_Squad_assault
		icon = GFX_focus_generic_manpower

		prerequisite = { focus = SOV_tachanka }

		prerequisite = { focus = SOV_Officer_initiative }

		prerequisite = { focus = SOV_Practice_new_tactics }
		x = 1
		y = 1
		relative_position_id = SOV_Officer_initiative
		cost = 5
		ai_will_do = {
			factor = 200
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      custom_effect_tooltip = SOV_Reorganizing_the_Red_Army_tt

      if = {
        limit = {
          has_idea = SOV_Officer_initiative_idea
        }
        swap_ideas = {
          remove_idea = SOV_Officer_initiative_idea
          add_idea = SOV_Squad_assault_idea
        }
      }

		}
	}

	focus = {
		id = SOV_Infantry_tradition
		#icon = GFX_focus_YUG_pan_slavic_congress
		icon = GFX_focus_SOV_builder_of_the_red_army
		mutually_exclusive = {
			focus = SOV_New_thought
		}

		prerequisite = { focus = SOV_Concentrated_operations }

		prerequisite = { focus = SOV_New_structure_of_artillery }

		x = 0
		y = 1
		relative_position_id = SOV_Concentrated_operations
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      NOT = { has_completed_focus = SOV_Decentralization }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = artillery
			}	

		  add_ideas = SOV_Infantry_tradition_idea

		}
	}

	focus = {
		id = SOV_Training_grassroots_non_commissioned_officers
		icon = GFX_focus_generic_military_academy

		prerequisite = { focus = SOV_Infantry_tradition }

		x = 0
		y = 1
		relative_position_id = SOV_Infantry_tradition
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Training_grassroots_non_commissioned_officers
				bonus = 1.0
				uses = 2
				category = support_tech	
			}

      swap_ideas = {
        remove_idea = SOV_Infantry_tradition_idea
        add_idea = SOV_Training_grassroots_non_commissioned_officers_idea
      }

		}
	}

	focus = {
		id = SOV_Expansion_of_special_forces
		icon = GFX_goal_generic_special_forces

		prerequisite = { focus = SOV_Infantry_tradition }

		x = -2
		y = 1
		relative_position_id = SOV_Infantry_tradition
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_ideas = SOV_Special_Forces_idea

      add_tech_bonus = {
        name = GER_Brandenburger
        bonus = 1
        uses = 2
				category = mountaineers_tech
        category = para_tech
				category = marine_tech
      }	

		}
	}

	focus = {
		id = SOV_Lessons_from_War_Infantry_Tactics
		icon = GFX_focus_SOV_Lessons_from_War_Infantry_Tactics

		prerequisite = { focus = SOV_Expansion_of_special_forces }

		prerequisite = { focus = SOV_Training_grassroots_non_commissioned_officers }
		x = 1
		y = 1
		relative_position_id = SOV_Expansion_of_special_forces
		cost = 8
		ai_will_do = {
			factor = 1000
		}

		available = {
			has_war = yes
			any_enemy_country = {
        NOT = { TAG = RUS }
				is_major = yes
			}
      or = {
        date > 1942.1.1
        casualties > 500000
        surrender_progress > 0.20
      }
		}

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			army_experience = 100

			add_tech_bonus = {
				name = SOV_Lessons_from_War_Infantry_Tactics
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}

			add_tech_bonus = {
				name = SOV_Lessons_from_War_Infantry_Tactics
				bonus = 1.0
				uses = 1
				category = artillery
			}	

			add_doctrine_cost_reduction = {
				name = SOV_Lessons_from_War_Infantry_Tactics
				cost_reduction = 0.5
				uses = 4
				category = cat_mass_assault
			} 

      swap_ideas = {
        remove_idea = SOV_Training_grassroots_non_commissioned_officers_idea
        add_idea = SOV_Training_grassroots_non_commissioned_officers_2_idea
      }

		}
	}


	focus = {
		id = SOV_New_thought
		icon = GFX_goal_generic_army_tanks

		mutually_exclusive = {
			focus = SOV_Infantry_tradition
		}

		prerequisite = { focus = SOV_Squad_assault focus = SOV_Concentrated_operations }

		prerequisite = { focus = SOV_New_structure_of_artillery }

		x = -2
		y = 1
		relative_position_id = SOV_Squad_assault
		cost = 5
		ai_will_do = {
			factor = 300
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			custom_effect_tooltip = GER_Armored_Scout_tooltip

			set_technology = { GER_Armored_Scout_tech = 1 }

			add_tech_bonus = {
				name = SOV_New_thought
				bonus = 1.0
				uses = 1
				category = recon_tech
			}

      if = {
        limit = {
          NOT = { has_idea = SOV_Practice_new_tactics_idea }
        }
        add_ideas = SOV_New_thought_idea
      }

      if = {
        limit = {
          has_idea = SOV_Practice_new_tactics_idea
        }
        swap_ideas = {
          remove_idea = SOV_Practice_new_tactics_idea
          add_idea = SOV_New_thought_idea_1
        }
      }

		}
	}

	focus = {
		id = SOV_Assault_Engineer
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = SOV_New_thought focus = SOV_Infantry_tradition }
		x = -2
		y = 1
		relative_position_id = SOV_New_thought
		cost = 5
		ai_will_do = {
			factor = 100
		}

		available_if_capitulated = yes

		completion_reward = {

			custom_effect_tooltip = GER_Combat_Engineer_tooltip

			set_technology = { GER_Combat_Engineer_tech = 1 }

			add_tech_bonus = {
				name = SOV_Assault_Engineer 
				bonus = 1.0
				uses = 2
				category = engineers_tech	
			}	
		}
	}

	focus = {
		id = SOV_Mass_Breakthroughs
		icon = GFX_EGY_Operation_Abu

		prerequisite = { focus = SOV_New_thought }

		x = 0
		y = 1
		relative_position_id = SOV_New_thought
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = SOV_Mass_Breakthroughs
				cost_reduction = 1.0
				uses = 1
				category = cat_mass_assault
			} 

			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				name = SOV_Mass_Breakthroughs
				technology = armored_car2
				technology = armored_car3
			}

      if = {
        limit = {
          has_idea = SOV_New_thought_idea
        }
        swap_ideas = {
          remove_idea = SOV_New_thought_idea
          add_idea = SOV_Mass_Breakthroughs_idea
        }
      }

      if = {
        limit = {
          has_idea = SOV_New_thought_idea_1
        }
        swap_ideas = {
          remove_idea = SOV_New_thought_idea_1
          add_idea = SOV_Mass_Breakthroughs_idea_1
        }
      }

		}
	}

	focus = {
		id = SOV_Mass_motorization
		icon = GFX_SOV_katyusha

		prerequisite = { focus = SOV_New_thought }

		x = 2
		y = 1
		relative_position_id = SOV_New_thought
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
		  has_completed_focus = SOV_Independent_automotive_industry
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			if = {
				limit = {
					not = { has_tech = motorized_rocket_unit  }
				}
				set_technology = {
					motorized_rocket_unit = 1
				}
			}

		  add_ideas = SOV_katyusha_idea

		}
	}

	focus = {
		id = SOV_Lessons_from_War_tank_Tactics
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		#icon = GFX_focus_generic_army_tanks2

		prerequisite = { focus = SOV_Mass_Breakthroughs }

		prerequisite = { focus = SOV_Mass_motorization }
		x = 1
		y = 1
		relative_position_id = SOV_Mass_Breakthroughs
		cost = 8
		ai_will_do = {
			factor = 1000
		}

		available = {
			has_war = yes
			any_enemy_country = {
				NOT = { TAG = RUS }
				is_major = yes
			}
			or = {
				date > 1942.1.1
				casualties > 500000
				surrender_progress > 0.20
			}
		}

		bypass = {

		}

		available_if_capitulated = yes

		completion_reward = {

			army_experience = 100

			hidden_effect = {
				set_technology = { masterful_blitz = 1 popup = no }
			}
			custom_effect_tooltip = SOV_the_glory_of_the_red_army_masterful_blitz_tactic_tt

			add_tech_bonus = {
				name = SOV_Lessons_from_War_tank_Tactics
				bonus = 3.0
				ahead_reduction = 1.0
				uses = 1
				category = armor
			}

			add_doctrine_cost_reduction = {
				name = SOV_Lessons_from_War_tank_Tactics
				cost_reduction = 0.5
				uses = 4
				category = cat_mass_assault
			} 

			if = {
				limit = {
				    has_idea = SOV_Mass_Breakthroughs_idea
				}
				swap_ideas = {
					remove_idea = SOV_Mass_Breakthroughs_idea
					add_idea = SOV_Mass_Breakthroughs_1_idea
				}
			}

			if = {
				limit = {
				    has_idea = SOV_Mass_Breakthroughs_idea_1
				}
				swap_ideas = {
					remove_idea = SOV_Mass_Breakthroughs_idea_1
					add_idea = SOV_Mass_Breakthroughs_1_idea_1
				}
			}

		}
	}

	focus = {
		id = SOV_transpolar_flights
		icon = GFX_sov_transpolar_flight

		x = 11
		y = 0
		relative_position_id = SOV_Reorganizing_the_Red_Army
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_completed_focus = SOV_Reorganizing_the_Red_Army
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			air_experience = 25

			add_doctrine_cost_reduction = {
				name = SOV_transpolar_flights
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}

		}
	}

	focus = {
		id = SOV_Training_paratroopers
		icon = GFX_focus_generic_paratrooper

		prerequisite = { focus = SOV_transpolar_flights }

		x = -1
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Training_paratroopers
				bonus = 1
				uses = 1
				category = para_tech
			}

		}
	}

	focus = {
		id = SOV_Expand_flight_school
		icon = GFX_focus_SOV_flying_clubs
		#icon = GFX_goal_DOM_Air_Fuel

		prerequisite = { focus = SOV_transpolar_flights }

		x = -3
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_ideas = SOV_Expand_flight_school_idea

		}
	}

	focus = {
		id = SOV_women_pilots
		icon = GFX_focus_SOV_women_in_aviation

		prerequisite = { focus = SOV_Expand_flight_school }

		x = -1
		y = 1
		relative_position_id = SOV_Expand_flight_school
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			air_experience = 25

			set_rule = {
				can_generate_female_aces = yes
			}

			if = {
				limit = {
					SOV = { has_full_control_of_state = 219 }
				}
				custom_effect_tooltip = SOV_night_witches_tt
				hidden_effect = {
					load_oob = "SOV_night_witches"
				}
			}

		}
	}

	focus = {
		id = SOV_Rule_the_sky
		icon = GFX_sov_air_volunteers

		prerequisite = { focus = SOV_women_pilots }

		prerequisite = { focus = SOV_new_soviet_man }
		x = 1
		y = 1
		relative_position_id = SOV_women_pilots
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

      swap_ideas = {
        remove_idea = SOV_Expand_flight_school_idea
        add_idea = SOV_Rule_the_sky_idea
      }

		}
	}

	focus = {
		id = SOV_new_soviet_man
		icon = GFX_goal_support_communism

		prerequisite = { focus = SOV_Expand_flight_school }

		x = 1
		y = 1
		relative_position_id = SOV_Expand_flight_school
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			hidden_effect = {
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
			}
			custom_effect_tooltip = kamikaze_focus_tooltip

		}
	}

	focus = {
		id = SOV_aviation_cult
		icon = GFX_sov_transpolar_flight_OLD

		prerequisite = { focus = SOV_transpolar_flights }

		x = 1
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_aviation_cult
				bonus = 1.0
				uses = 1
				category = light_air
			}

		}
	}

	focus = {
		id = SOV_Development_of_ground_attack_aircraft
		icon = GFX_sov_il2

		prerequisite = { focus = SOV_aviation_cult }

		x = -1
		y = 1
		relative_position_id = SOV_aviation_cult
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = CAS_bonus
        bonus = 1
        uses = 1
				category = cas_bomber
			}

		}
	}

	focus = {
		id = SOV_Tactical_Air_Force
		icon = GFX_sov_batt_supp

		mutually_exclusive = {
			focus = SOV_Tend_to_Strategic_Air_Force
		}

		prerequisite = { focus = SOV_Development_of_ground_attack_aircraft }

		x = 0
		y = 1
		relative_position_id = SOV_Development_of_ground_attack_aircraft
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_ideas = SOV_Tactical_Air_Force_idea

		}
	}

	focus = {
		id = SOV_Development_of_long_range_bombers
		icon = GFX_sov_pe2

		prerequisite = { focus = SOV_aviation_cult }

		x = 1
		y = 1
		relative_position_id = SOV_aviation_cult
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = CAS_bonus
        bonus = 1
        uses = 1
				category = tactical_bomber
			}

		}
	}

	focus = {
		id = SOV_Tend_to_Strategic_Air_Force
		icon = GFX_sov_op_dist

		mutually_exclusive = {
			focus = SOV_Tactical_Air_Force
		}

		prerequisite = { focus = SOV_Development_of_long_range_bombers }

		x = 0
		y = 1
		relative_position_id = SOV_Development_of_long_range_bombers
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_ideas = SOV_Tend_to_Strategic_Air_Force_idea

		}
	}

	focus = {
		id = SOV_Lessons_from_War_air_Tactics
		icon = GFX_focus_usa_escort_fighters

		prerequisite = { focus = SOV_Tactical_Air_Force focus = SOV_Tend_to_Strategic_Air_Force }

		x = 1
		y = 1
		relative_position_id = SOV_Tactical_Air_Force
		cost = 8
		ai_will_do = {
			factor = 1000
		}

		available = {
			has_war = yes
			any_enemy_country = {
        NOT = { TAG = RUS }
				is_major = yes
			}
      or = {
        date > 1942.1.1
        casualties > 500000
        or = {
          has_defensive_war = yes
          surrender_progress > 0.10
        }
        surrender_progress > 0.20
      }
		}

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			air_experience = 100

      if = {
        limit = {
          has_idea = SOV_Tactical_Air_Force_idea
        }
        swap_ideas = {
          remove_idea = SOV_Tactical_Air_Force_idea
          add_idea = SOV_Tactical_Air_Force_lesson_idea
        }
      }	

      if = {
        limit = {
          has_idea = SOV_Tend_to_Strategic_Air_Force_idea
        }
        swap_ideas = {
          remove_idea = SOV_Tend_to_Strategic_Air_Force_idea
          add_idea = SOV_Tend_to_Strategic_Air_Force_lesson_idea
        }
      }

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = light_fighter		
			}

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1	
				category = cat_heavy_fighter
			}

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = cas_bomber			
			}

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1.0
				uses = 1
				category = tactical_bomber	
			}

			add_tech_bonus = {
				name = GER_Joint_air_to_ground_operations
				bonus = 1.0
				uses = 2
				category = radar_tech
			}

			add_doctrine_cost_reduction = {
				name = GER_Joint_air_to_ground_operations
				cost_reduction = 0.5
				uses = 4
				category = air_doctrine
			}	

		}
	}

	focus = {
		id = SOV_Burning_sky
		icon = GFX_focus_generic_air_defense2

		prerequisite = { focus = SOV_transpolar_flights }

		x = 4
		y = 1
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
       195 = { is_fully_controlled_by = SOV }
       219 = { is_fully_controlled_by = SOV }
       217 = { is_fully_controlled_by = SOV }
       229 = { is_fully_controlled_by = SOV }
       582 = { is_fully_controlled_by = SOV }
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Burning_sky
				bonus = 1.0
				uses = 1
				category = anti_air
			}

			if = {
				limit = {
					195 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				195 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					195 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				195 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					219 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				219 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					219 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				219 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					217 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				217 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					217 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				217 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					229 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				229 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					229 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				229 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					582 = {
						free_building_slots = {
							building = anti_air_building
							size > 2
						}
					}
				}
				582 = {
					add_building_construction = {
						type = anti_air_building
						level = 2
						instant_build = yes
					}
				}
			}
			else_if = {
				limit = {
					582 = {
						free_building_slots = {
							building = anti_air_building
							size > 1
						}
					}
				}
				582 = {
					add_building_construction = {
						type = anti_air_building
						level = 1
						instant_build = yes
					}
				}
			}

		}
	}

	focus = {
		id = SOV_Consolidate_the_air_defense_net
		icon = GFX_goal_generic_radar

		prerequisite = { focus = SOV_Burning_sky }

		x = 0
		y = 1
		relative_position_id = SOV_Burning_sky
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Consolidate_the_air_defense_net
				bonus = 1
				uses = 2
				category = radar_tech
			}

		}
	}


	focus = {
		id = SOV_Navy_ashore
		icon = GFX_goal_SOV_navy

		x = 12
		y = 0
		relative_position_id = SOV_transpolar_flights
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      has_completed_focus = SOV_Reorganizing_the_Red_Army
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 25

		}
	}

	focus = {
		id = SOV_Admission_of_White_Admiral
		icon = GFX_goal_navy_hat_ships

		prerequisite = { focus = SOV_Navy_ashore }

		x = -3
		y = 1
		relative_position_id = SOV_Navy_ashore
		cost = 5
		ai_will_do = {
			factor = 100
		}

    available = {
      or = {
        RUS = { exists = no }
        RUS = { is_puppet = yes }
        AND = {
          NOT = { RUS = { has_full_control_of_state = 563 } }
          is_ai = yes
        }
      }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_doctrine_cost_reduction = {
				name = SOV_Admission_of_White_Admiral
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}

		}
	}

	focus = {
		id = SOV_Underwater_attack
		icon = GFX_goal_generic_navy_submarine

		prerequisite = { focus = SOV_Admission_of_White_Admiral }

		x = 0
		y = 1
		cost = 5

		relative_position_id = SOV_Admission_of_White_Admiral

		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Underwater_attack
				bonus = 1.0
				uses = 2
				category = ss_tech
			}

		}
	}

	focus = {
		id = SOV_ocean_going_navy
		icon = GFX_goal_generic_navy_battleship

		prerequisite = { focus = SOV_Admission_of_White_Admiral }

		x = 2
		y = 1
		cost = 5

		relative_position_id = SOV_Admission_of_White_Admiral

		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 1.0
				uses = 2
				category = bb_tech
			}
		}
	}

	focus = {
		id = SOV_Offshore_defense
		icon = GFX_goal_generic_air_naval_bomber

		prerequisite = { focus = SOV_Admission_of_White_Admiral }

		x = -2
		y = 1
		relative_position_id = SOV_Admission_of_White_Admiral
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			add_tech_bonus = {
				name = SOV_Offshore_defense
				bonus = 1.0
				uses = 2
				category = naval_bomber
			}

		}
	}

	focus = {
		id = SOV_Long_term_naval_construction_plan
		icon = GFX_goal_navy_decision

		prerequisite = { focus = SOV_Underwater_attack }

		prerequisite = { focus = SOV_ocean_going_navy }

		prerequisite = { focus = SOV_Offshore_defense }

		x = 0
		y = 1
		relative_position_id = SOV_Underwater_attack
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {

    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_ideas = SOV_the_young_school

		}
	}

	focus = {
		id = SOV_Rebuilding_the_Baltic_Fleet
		icon = GFX_goal_generic_shipyard

		prerequisite = { focus = SOV_Navy_ashore }

		x = 2
		y = 1
		relative_position_id = SOV_Navy_ashore
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       195 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 10

			add_tech_bonus = {
				name = SOV_Rebuilding_the_Baltic_Fleet
				bonus = 1.0
				uses = 1
				category = cl_tech
			}

      195 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}

	focus = {
		id = SOV_Put_into_the_Black_Sea_Fleet
		icon = GFX_goal_generic_amphibious_assault

		prerequisite = { focus = SOV_Rebuilding_the_Baltic_Fleet }

		x = -1
		y = 1
		relative_position_id = SOV_Rebuilding_the_Baltic_Fleet
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       137 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			army_experience = 10

      add_tech_bonus = {
        name = SOV_Put_into_the_Black_Sea_Fleet
        bonus = 1.0
        uses = 1
        ahead_reduction = 1.0
        category = marine_tech
      }

      137 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}

	focus = {
		id = SOV_North_Sea_Escort
		icon = GFX_goal_CAN_explore_north

		prerequisite = { focus = SOV_Rebuilding_the_Baltic_Fleet }

		x = 1
		y = 1
		relative_position_id = SOV_Rebuilding_the_Baltic_Fleet
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       213 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 10

			add_tech_bonus = {
				name = SOV_North_Sea_Escort
				bonus = 1.0
				uses = 1
				category = dd_tech
			}

      213 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}

	focus = {
		id = SOV_Conquer_the_East
		icon = GFX_goal_AST_upgrade_reserves

		prerequisite = { focus = SOV_Put_into_the_Black_Sea_Fleet }

		prerequisite = { focus = SOV_North_Sea_Escort }
		x = 1
		y = 1
		relative_position_id = SOV_Put_into_the_Black_Sea_Fleet
		cost = 5
		ai_will_do = {
			factor = 50
		}

    available = {
       408 = { is_fully_controlled_by = SOV }
    }
    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

			navy_experience = 20

			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			add_tech_bonus = {
				name = FRA_carrier_focus
				bonus = 1.0
				uses = 2
				category = naval_air
			}

      408 = {
        add_extra_state_shared_building_slots = 4
        add_building_construction = {
          type = dockyard
          level = 4
          instant_build = yes
        }
      }

		}
	}


	focus = {
		id = SOV_finish_five_year_plan
		icon = GFX_goal_state_economy

		x = 14
		y = 0
		relative_position_id = SOV_Great_Purge_will_fail
		cost = 5
		ai_will_do = {
			factor = 2000
		}

    available = {
			has_war = no
      or = {
        RUS = { exists = no }
        RUS = { is_puppet = yes }
				has_full_control_of_state = 563 
      }
    }

		available_if_capitulated = yes

		completion_reward = {

      SOV_increase_industrialization = yes

      add_tech_bonus = {
        name = rus_third_element
        bonus = 1.0
        uses = 3
        category = industry
      }

			activate_mission_tooltip = SOV_Last_Five_Year_Plan

		}
	}

	focus = {
		id = SOV_Open_more_arsenals
		icon = GFX_SOV_tula

		prerequisite = { focus = SOV_finish_five_year_plan }

		x = -3
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 7
		ai_will_do = {
			factor = 2000
		}

    available = {
		  has_idea = SOV_Simplify_weapons_production_idea
    }

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Novgorod
			unlock_decision_tooltip = RUS_Develop_Industry_In_Pskov

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 2
				category = infantry_weapons
			}

			add_tech_bonus = {
				name = SOV_Infantry_tradition
				bonus = 1.0
				uses = 1
				category = artillery
			}	

      swap_ideas = {
        remove_idea = SOV_Simplify_weapons_production_idea
        add_idea = SOV_Simplify_weapons_production_idea_1
      }

			if = {
				limit = {
					195 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}	

				}
			}
			195 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

				}
			}
			if = {
				limit = {
					223 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}							

				}
			}
			223 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					399 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}							

				}
			}
			399 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Expansion_of_aircraft_manufacturingc
		icon = GFX_sov_increase_il2_production

		prerequisite = { focus = SOV_Open_more_arsenals }

		x = 0
		y = 1
		relative_position_id = SOV_Open_more_arsenals
		cost = 7
		ai_will_do = {
			factor = 2000
		}

    available = {
			has_completed_focus = SOV_Independent_automotive_industry
    }

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Ufa

      add_ideas = SOV_Expansion_of_aircraft_manufacturingc_idea

      add_tech_bonus = {
        name = SOV_Expansion_of_aircraft_manufacturingc
        bonus = 1.0
        uses = 1
        category = light_fighter
        category = cat_heavy_fighter
      }

      add_tech_bonus = {
        name = SOV_Expansion_of_aircraft_manufacturingc
        bonus = 1.0
        uses = 1
        category = cat_strategic_bomber
        category = tactical_bomber
      }

      add_tech_bonus = {
        name = SOV_Expansion_of_aircraft_manufacturingc
        bonus = 1.0
        uses = 1
        category = naval_bomber
        category = cas_bomber
      }

			if = {
				limit = {
					249 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			249 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					251 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			251 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Ural_armor_production
		icon = GFX_goal_SOV_Soviet_Bear_Awaken

		prerequisite = { focus = SOV_Expansion_of_aircraft_manufacturingc }

		x = 0
		y = 1
		relative_position_id = SOV_Expansion_of_aircraft_manufacturingc
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Perm
			unlock_decision_tooltip = RUS_Develop_Industry_In_Yekaterinburg

			add_tech_bonus = {
				name = SOV_Ural_armor_production
        bonus = 1.0
        uses = 1
				category = cat_heavy_armor
			}

			add_tech_bonus = {
				name = SOV_Ural_armor_production
        bonus = 1.0
        uses = 2
				category = cat_medium_armor
			}

      swap_ideas = {
        remove_idea = SOV_Expansion_of_aircraft_manufacturingc_idea
        add_idea = SOV_Ural_armor_production_idea
      }

			if = {
				limit = {
					572 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			572 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					217 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = arms_factory
									size < 3
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}							

				}
			}
			217 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Support_the_zorgen_Institute
		icon = GFX_focus_research

		prerequisite = { focus = SOV_finish_five_year_plan }

		x = 0
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {

			add_research_slot = 1

			add_ideas = SOV_zorgen_Institute_idea

			add_tech_bonus = {
				name = SOV_Support_the_zorgen_Institute
				bonus = 1
				uses = 2
				category = synth_resources
			}

			if = {
				limit = {
					has_country_leader  = {
						ruling_only  = yes 
						character = SOV_makiri_zolgen
					}
				}
				add_tech_bonus = {
					name = SOV_Support_the_zorgen_Institute
					bonus = 1
					uses = 2
					category = synth_resources
				}
			}

		}
	}

	focus = {
		id = SOV_tranformation_of_nature
		icon = GFX_goal_generic_soviet_construction

		prerequisite = { focus = SOV_Support_the_zorgen_Institute }

		x = 1
		y = 1
		relative_position_id = SOV_Support_the_zorgen_Institute
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available = {
      has_full_control_of_state = 404
		}

		available_if_capitulated = yes

		completion_reward = {

			swap_ideas = {
				add_idea = SOV_transformation_of_nature
				remove_idea = SOV_zorgen_Institute_idea
			}

			if = {
				limit = {
					has_full_control_of_state = 223 #TULA
				}
				223 = { #TULA
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
				# Moscow - Tula
				build_railway = {
					path = { 6380 6414 9348 6290 6396 6262 }
				}
			}

			add_political_power = 120
			add_resource = {
				type = rubber
				amount = 20
				state = 404
			}

			add_tech_bonus = {
				name = SOV_Support_the_zorgen_Institute
				bonus = 1
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Magnitorsk_steel_mill
		icon = GFX_sov_magnitogorsk

		prerequisite = { focus = SOV_Support_the_zorgen_Institute }

		x = -1
		y = 1
		relative_position_id = SOV_Support_the_zorgen_Institute
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available = {
      has_full_control_of_state = 582
		}

		available_if_capitulated = yes

		completion_reward = {

			add_resource = {
				type = steel
				amount = 30
				state = 582
			}

			if = {
				limit = {
					582 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 8
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 7
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 8
					add_building_construction = {
						type = industrial_complex
						level = 8
						instant_build = yes
					}							

				}
			}
			582 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 7
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 8
					add_building_construction = {
						type = industrial_complex
						level = 8
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Independent_automotive_industry
		icon = GFX_focus_generic_rubber

		prerequisite = { focus = SOV_Magnitorsk_steel_mill }

		prerequisite = { focus = SOV_tranformation_of_nature }

		x = 1
		y = 1
		relative_position_id = SOV_Magnitorsk_steel_mill
		cost = 7
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Lerev
			unlock_decision_tooltip = RUS_Develop_Industry_In_Kazan

      add_ideas = SOV_Independent_automotive_industry_idea

			if = {
				limit = {
					252 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}							

				}
			}
			252 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					219 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}							

				}
			}
			219 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					217 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 2
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}							

				}
			}
			217 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_Maintain_the_Trans_Siberian_Railway
		icon = GFX_goal_generic_railroad

		prerequisite = { focus = SOV_finish_five_year_plan }

		x = 3
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 14
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {

			add_ideas = SOV_soviet_railways_idea

			# Moscow - Rostov on Don
			build_railway = {
				path = { 9330 3356 6279 6230 6398 6341 413 3527 11475 11412 6591 3540 3519 11459 11450 11434 9417 }
			}
			# Stalingrad-Rostov on Don
			build_railway = {
				path = { 3529 9504 533 9516 509 500 11459 } #(Stalingrad - Conjunction near Millerovo)
			}
			# Stalingrad-Mikhaylovka 
			build_railway = {
				path = { 9504 3582 9436 11485 3539 9564 11408 } #(Conjunction right next to Stalingrad - Conjunction in West Saratov)
			}
			# Stalingrad - Astrakhan
			build_railway = {
				path = { 3529 11474 520 6516 6486 9455 11429 6620 9753 }
			}
			# Tbilisi - Yerevan
			build_railway = {
				path = { 1599 9702 12441 3564 12320 }
			}

			#Supply Hub in Yerevan
			230 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 12320
					instant_build = yes
				}
			}
			#Supply Hub in Kandalaksha
			213 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 6181
					instant_build = yes
				}
			}

			unlock_decision_tooltip = RUS_Develop_Industry_In_Omsk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Novo_Nikolayevsk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Krasnoyarsk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Irkutsk

			custom_effect_tooltip = SOV_Maintain_the_Trans_Siberian_Railway_tt
			hidden_effect = {

			if = {
				limit = {
          has_full_control_of_state = 219
				}
				219 = { # Moscow
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 248
				}
				248 = { # Yaroslavl
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 351
				}
				351 = { # Vologda
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 400
				}
				400 = { # Kirov
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 398
				}
				398 = { # Perm
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 573
				}
				573 = { # Kirov
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 653
				}
				653 = { # Perm
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 403
				}
				403 = { # Kirov
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 571
				}
				571 = { # Kirov
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 570
				}
				570 = { # Novosibirsk
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 569
				}
				569 = { # Kemerovo
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 568
				}
				568 = { # Krasnoyarsk
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 567
				}
				567 = { # Bratsk
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 566
				}
				566 = { # Irkutsk
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 564
				}
				564 = { # Ulan Ude
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 563
				}
				563 = { # Chita
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 561
				}
				561 = { # Amur
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 657
				}
				657 = { # Biribidzhan
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 409
				}
				409 = { # Khabarovsk
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
          has_full_control_of_state = 408
				}
				408 = { # Vladivostok
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}

			}

		}
	}

	focus = {
		id = SOV_Achieve_all_Russian_electrification
		icon = GFX_goal_Schelle

		prerequisite = { focus = SOV_Maintain_the_Trans_Siberian_Railway }

		x = 0
		y = 1
		relative_position_id = SOV_Maintain_the_Trans_Siberian_Railway
		cost = 14
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Kursk
			unlock_decision_tooltip = RUS_Develop_Industry_In_Yaroslavl
			unlock_decision_tooltip = RUS_Develop_Industry_In_Tsaritsyn

			if = {
				limit = {
					570 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			570 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					206 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			206 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					202 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			202 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					137 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			137 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					566 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			566 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					229 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			229 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					582 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			582 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

			if = {
				limit = {
					408 = {
						OR = {
							NOT = { is_controlled_by = SOV }
							AND = {
								is_controlled_by = SOV
								free_building_slots = {
									building = industrial_complex
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}							

				}
			}
			408 = {
				if = {
					limit = { 
						is_controlled_by = SOV
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}

				}
			}

      SOV_increase_industrialization = yes

		}
	}

	focus = {
		id = SOV_closed_city_network
		icon = GFX_focus_research

		prerequisite = { focus = SOV_Achieve_all_Russian_electrification }

		x = 0
		y = 1
		relative_position_id = SOV_Achieve_all_Russian_electrification
		cost = 5
		ai_will_do = {
			factor = 2000
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = RUS_Develop_Industry_In_Chelyabinsk

			add_research_slot = 1

		}
	}

	focus = {
		id = SOV_Soviet_industrial_power
		icon = GFX_sov_massive_production
		prerequisite = { focus = SOV_Ural_armor_production }

		prerequisite = { focus = SOV_Independent_automotive_industry }

		prerequisite = { focus = SOV_closed_city_network }

		x = 0
		y = 1
		relative_position_id = SOV_Independent_automotive_industry
		cost = 10
		ai_will_do = {
			factor = 2000
		}

		available = {
			is_puppet = no
			has_idea = SOV_Simplify_weapons_production_idea_1	
			has_idea = SOV_New_structure_of_artillery_idea	
			has_idea = SOV_Independent_automotive_industry_idea	
			has_idea = SOV_Ural_armor_production_idea
			has_idea = SOV_transformation_of_nature	
			has_idea = SOV_soviet_railways_idea
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_research_slot = 1

			remove_ideas = SOV_Simplify_weapons_production_idea_1
			remove_ideas = SOV_New_structure_of_artillery_idea
			remove_ideas = SOV_Independent_automotive_industry_idea
			remove_ideas = SOV_Ural_armor_production_idea
			remove_ideas = SOV_transformation_of_nature
			remove_ideas = SOV_soviet_railways_idea

			add_ideas = SOV_Soviet_industrial_power_idea
			#Build Railways in Caucasus
			if = {
				limit = {
					has_full_control_of_state = 229 #BAKU
					has_full_control_of_state = 230 #ARMENIA
					has_full_control_of_state = 231 #GEORGIA
				}
				# Baku - Tbilisi
				build_railway = {
					path = { 7661 1536 4614 4477 11645 11674 1539 11708 1599 }
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 232 #DAGESTAN
					has_full_control_of_state = 821 #CHECHNYA-INGUSHETIA
				}
				# Makhachkala (Hub province) - Grozny
				build_railway = {
					path = { 3668 3682 3672 }
				}
			}
		}
	}

	focus = {
		id = SOV_borodino
		icon = GFX_focus_SOV_nuclear
		prerequisite = { focus = SOV_Soviet_industrial_power }
		available = {

		}
		x = -2
		y = 1
		relative_position_id = SOV_Soviet_industrial_power
		cost = 5

    available = {
      has_tech = improved_computing_machine
    }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 5
				has_war = yes
			}
		}


		completion_reward = {
			add_tech_bonus = {
				name = SOV_borodino
				bonus = 1.0
				uses = 2
				category = nuclear
			}
		}
	}

	focus = {
		id = SOV_leningrad_institute
			icon = GFX_sov_leningrad_institute
			prerequisite = { focus = SOV_Soviet_industrial_power }
			continue_if_invalid = yes
			available_if_capitulated = yes
			x = 0
			y = 1
			relative_position_id = SOV_Soviet_industrial_power
			cost = 5

			ai_will_do = {
				factor = 200
			}

			completion_reward = {
				add_tech_bonus = {
					name = SOV_leningrad_institute
					category = electronics
					uses = 3
					bonus = 1
				}
			}
		}

	focus = {
		id = SOV_rockets
		icon = GFX_focus_SOV_rockets_2
		prerequisite = { focus = SOV_Soviet_industrial_power }
		x = 2
		y = 1
		relative_position_id = SOV_Soviet_industrial_power
		cost = 10
		ai_will_do = {
			factor = 1
		}

    available = {
      has_tech = improved_computing_machine
    }

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = SOV_rockets
				bonus = 1
				uses = 2
				technology = experimental_rockets
				technology = rocket_engines
				technology = improved_rocket_engines
				technology = advanced_rocket_engines
			}
      add_tech_bonus = {
        name = SOV_rockets
        bonus = 1
        uses = 1
        category = jet_technology
      }
		}
	}

	focus = {
		id = SOV_Export_revolution
		icon = GFX_focus_ger_great_red_menace

		mutually_exclusive = {
			focus = SOV_Expansionism
		}

		x = -1
		y = 4
		relative_position_id = SOV_Soviet_industrial_power
		cost = 5
		ai_will_do = {
			factor = 2000
		}

    available = {
		has_country_leader  = {
			ruling_only  = yes 
			character = SOV_lev_trotsky
		}

     	has_army_manpower = { size > 1499999 }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_lacking_industrialization_tt
				NOT = { has_idea = SOV_lacking_industrialization_1 }			
				NOT = { has_idea = SOV_lacking_industrialization_2 }			
				NOT = { has_idea = SOV_lacking_industrialization_3 }			
				NOT = { has_idea = SOV_lacking_industrialization_4 }			
				NOT = { has_idea = SOV_lacking_industrialization_5 }			
				NOT = { has_idea = SOV_lacking_industrialization_6 }			
				NOT = { has_idea = SOV_lacking_industrialization_7 }			
				NOT = { has_idea = SOV_lacking_industrialization_8 }				
			}
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_named_threat = { threat = 20 name = SOV_Export_revolution }

			remove_ideas = SOV_Focus_on_the_inside_idea

			add_ideas = SOV_World_revolution_idea

      every_country = {
        limit = {
          or = {
            is_major = yes
            is_neighbor_of = SOV
          }
          or = {
            NOT = { has_government = communism }
            NOT = { is_in_faction_with = SOV }
          }
        }
        add_ai_strategy = {
          type = antagonize
          id = ROOT
          value = 200
        }
        ROOT = {
          add_ai_strategy = {
            type = antagonize
            id = PREV
            value = 200
          }
        }
        add_opinion_modifier = { modifier = embargo target = ROOT}
        reverse_add_opinion_modifier = { modifier = embargo target = ROOT}
        add_opinion_modifier = { modifier = Proclaim_world_revolution target = ROOT}
        reverse_add_opinion_modifier = { modifier = Proclaim_world_revolution target = ROOT}
      }

        custom_effect_tooltip = SOV_Export_revolution_tt

		}
	}

	focus = {
		id = SOV_Expansionism
		icon = GFX_SOV_Expansionism

		mutually_exclusive = {
			focus = SOV_Export_revolution
		}

		x = 1
		y = 4
		relative_position_id = SOV_Soviet_industrial_power
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				date > 1942.1.1
				factor = 20
			}
			modifier = {
				or = {
					GER = { surrender_progress > 0.3 }
					GER = { casualties > 1500000 }
					AND = {
						GER = { has_war_with = FRA }
						FRA = { is_subject = no }
						FRA = { surrender_progress < 0.5 }
					}
				}
				factor = 100
			}
		}

    available = {
		NOT = {
			has_country_leader  = {
				ruling_only  = yes 
				character = SOV_lev_trotsky
			}
		}

      has_army_manpower = { size > 1499999 }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_lacking_industrialization_tt
				NOT = { has_idea = SOV_lacking_industrialization_1 }			
				NOT = { has_idea = SOV_lacking_industrialization_2 }			
				NOT = { has_idea = SOV_lacking_industrialization_3 }			
				NOT = { has_idea = SOV_lacking_industrialization_4 }			
				NOT = { has_idea = SOV_lacking_industrialization_5 }			
				NOT = { has_idea = SOV_lacking_industrialization_6 }			
				NOT = { has_idea = SOV_lacking_industrialization_7 }			
				NOT = { has_idea = SOV_lacking_industrialization_8 }				
			}
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
    }

    bypass = {

    }

		available_if_capitulated = yes

		completion_reward = {

		  add_named_threat = { threat = 10 name = SOV_Expansionism }

			remove_ideas = SOV_Focus_on_the_inside_idea

			add_ideas = SOV_Expansionism_idea

        custom_effect_tooltip = SOV_Expansionism_tt

		}
	}

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_sov_eastern_security
		prerequisite = { focus = SOV_Expansionism focus = SOV_Export_revolution }
		relative_position_id = SOV_Expansionism
		x = -3
		y = 1
		continue_if_invalid = yes
		cost = 7.16
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			country_event = { id = soviet.1 days = 1 }
			563 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_1
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4719
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10559
							instant_build = yes
						}
					}
				}
			}
			657 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 7763
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4725
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10655
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7801
							instant_build = yes
						}
					}
				}
			}
			409 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12189
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10466
							instant_build = yes
						}
					}
				}
			}
			408 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 2
						province = 11643
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_Western_front
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_far_east_fortification }
		available = {
			has_offensive_war = no
			AND = {
				has_full_control_of_state = 11
				has_full_control_of_state = 12
				has_full_control_of_state = 89
				has_full_control_of_state = 91
				has_full_control_of_state = 93
				has_full_control_of_state = 94
				has_full_control_of_state = 95
				has_full_control_of_state = 96
				has_full_control_of_state = 97
				has_full_control_of_state = 189
				has_full_control_of_state = 190
				has_full_control_of_state = 191
			}
		}
		x = 0
		y = 1
		relative_position_id = SOV_far_east_fortification
		cost = 10
		ai_will_do = {
			factor = 10
		}
		

		completion_reward = {
			11 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6407
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6296
					instant_build = yes
				}
			}
			89 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 11411
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6431
					instant_build = yes
				}
			}
			95 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9359
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3366
					instant_build = yes
				}
			}
			91 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 11479
					instant_build = yes
				}
			}
			94 = {
				add_building_construction = {
					type = bunker
					level = 7
					province = 3392
					instant_build = yes
				}
			}
			189 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9731
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6360
					instant_build = yes
				}
			}
			97 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 3393
					instant_build = yes
				}
			}
			190 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9262
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SOV_Western_front_S
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_Western_front }
		available = { has_offensive_war = no }
		x = 0
		y = 1
		relative_position_id = SOV_Western_front
		cost = 10
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 6
						province = 415
						instant_build = yes
					}
				}
				#add_building_construction = {
				#	type = bunker
				#	level = 6
				#	province = 209
				#	instant_build = yes
				#}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 7
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 11409
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 5
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 741
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_defense_of_moscow
		icon = GFX_SOV_defense_of_moscow
		prerequisite = { focus = SOV_Expansionism focus = SOV_Export_revolution }

		available = {
			219 = {
				is_controlled_by = ROOT

				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 }
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = SOV_Expansionism
		cost = 5
		bypass = {
			NOT = {
				controls_state = 219
			}
			surrender_progress > 0.3
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			army_experience = 5
			219 = {
				custom_effect_tooltip = SOV_defense_of_moscow_forts
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 3
						province = 3391
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6414
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9348
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 301
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 9378
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 6283
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 3259
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 3
						province = 11282
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6380
						instant_build = yes
					}
					add_building_construction = {
						type = anti_air_building
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_defense_of_leningrad
		#icon = GFX_goal_generic_fortify_city
		icon = GFX_SOV_defense_of_leningrad
		prerequisite = { focus = SOV_Expansionism focus = SOV_Export_revolution }
		available = {
			195 = {
				is_controlled_by = ROOT
			}
		}
		x = -1
		y = 1
		relative_position_id = SOV_Expansionism
		cost = 7.15
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 30
				AND = {
					has_war_with = FIN
					has_war_with = GER
				}
			}
			modifier = {
				factor = 4
				has_war = yes
			}
			modifier = {
				factor = 2
				surrender_progress > 0.2
			}
		}
		completion_reward = {
			army_experience = 5
			195 = {
				custom_effect_tooltip = SOV_defense_of_leningrad_tt
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 6
						province = 3151
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 149
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 6174
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 79
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = 11068
						instant_build = yes
					}
					add_building_construction = {
						type = anti_air_building
						level = 3
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					146 = {
						is_controlled_by = ROOT
					}
				}
				146 = {
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 3060
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9150
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
			}

		}
	}

	focus = {
		id = SOV_defense_of_stalingrad
		#icon = GFX_goal_generic_fortify_city
		icon = GFX_SOV_defense_of_stalingrad
		prerequisite = { focus = SOV_Expansionism focus = SOV_Export_revolution }
		available = {
			OR = {
				256 = {
					is_controlled_by = ROOT
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}
				}
				217 = {
					is_controlled_by = ROOT
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}
				}
				SOV = { surrender_progress > 0.5 }
			}
			NOT = { controls_state = 219 }
		}
		continue_if_invalid = yes
		bypass = {
			NOT = {
				controls_state = 400
				controls_state = 256
				controls_state = 249
				controls_state = 250
				controls_state = 251
				controls_state = 401
				controls_state = 217
				controls_state = 236
			}
		}
		x = 3
		y = 1
		relative_position_id = SOV_Expansionism
		cost = 15
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 3
				surrender_progress > 0.4
			}
			modifier = {
				factor = 4
				NOT = {
					controls_state = 219
				}
			}
		}
		completion_reward = {
			army_experience = 20
			custom_effect_tooltip = SOV_defense_of_stalingrad_tt
			hidden_effect = {
				if = {
					limit = {
						400 = {
							is_controlled_by = ROOT
						}
					}
					400 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 9370
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 1
							province = 6124
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						256 = {
							is_controlled_by = ROOT
						}
					}
					256 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 3315
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 11387
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 9381
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						249 = {
							is_controlled_by = ROOT
						}
					}
					249 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6338
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 372
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						250 = {
							is_controlled_by = ROOT
						}
					}
					250 = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 3382
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11319
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						251 = {
							is_controlled_by = ROOT
						}
					}
					251 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9299
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 9243
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 9365
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 4
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						401 = {
							is_controlled_by = ROOT
						}
					}
					401 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 6502
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11421
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 9432
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 3
							province = 11523
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						217 = {
							is_controlled_by = ROOT
						}
					}
					217 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 3529
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11484
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11474
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 520
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 3
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 3
							instant_build = yes
						}
					}
				}
				if = {
					limit = {
						236 = {
							is_controlled_by = ROOT
						}
					}
					236 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = 6516
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 6620
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 9753
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 757
							instant_build = yes
						}
						add_building_construction = {
							type = anti_air_building
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
}
